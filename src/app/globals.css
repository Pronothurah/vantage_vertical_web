@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import performance-optimized mobile menu styles */
@import '../styles/mobile-menu-performance.css';

@layer base {
  :root {
    --font-urbanist: 'Urbanist', sans-serif;
    
    /* Mobile Menu Scrolling Custom Properties */
    --menu-max-height-mobile: 70vh;
    --menu-max-height-tablet: 80vh;
    --menu-reserved-space-mobile: 20vh;
    --menu-reserved-space-tablet: 15vh;
    --menu-item-height: 56px;
    --menu-padding: 1rem;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: var(--font-urbanist);
    line-height: 1.6;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-urbanist);
    font-weight: 600;
    line-height: 1.2;
  }
}

@layer components {
  /* Button Components */
  .btn-primary {
    @apply bg-primary text-white px-6 py-3 rounded-lg font-semibold 
           hover:bg-red-700 transition-colors duration-200 
           focus:ring-2 focus:ring-primary focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-secondary {
    @apply border-2 border-primary text-primary px-6 py-3 rounded-lg 
           font-semibold hover:bg-primary hover:text-white 
           transition-all duration-200
           focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }
  
  .btn-outline {
    @apply border border-gray-300 text-gray-700 px-6 py-3 rounded-lg 
           font-medium hover:bg-gray-50 transition-colors duration-200
           focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }
  
  /* Card Components */
  .card {
    @apply bg-white rounded-xl shadow-soft border border-gray-100;
  }
  
  .service-card {
    @apply card p-6 hover:shadow-medium transition-shadow duration-300
           hover:-translate-y-1 transform;
  }
  
  .testimonial-card {
    @apply bg-gray-50 rounded-lg p-6 relative 
           before:content-['"'] before:text-4xl before:text-primary 
           before:absolute before:top-2 before:left-4 before:font-serif;
  }
  
  /* Form Components */
  .form-input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg 
           focus:ring-2 focus:ring-primary focus:border-primary
           transition-colors duration-200;
  }
  
  .form-textarea {
    @apply form-input resize-vertical min-h-[120px];
  }
  
  .form-select {
    @apply form-input appearance-none bg-white
           bg-[url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")]
           bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat;
  }
  
  /* Layout Components */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .section-padding {
    @apply py-16 lg:py-24;
  }
  
  /* Text Styles */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-red-600 bg-clip-text text-transparent;
  }
  
  .text-hero {
    @apply text-4xl sm:text-5xl lg:text-6xl font-bold font-heading;
  }
  
  .text-section-title {
    @apply text-3xl sm:text-4xl font-bold font-heading text-gray-900;
  }
  
  .text-subsection-title {
    @apply text-xl sm:text-2xl font-semibold font-heading text-gray-800;
  }
  
  /* Mobile Menu Scrolling Components */
  .mobile-menu-container {
    /* Outer container - handles positioning and backdrop effects */
    @apply relative bg-white/95 backdrop-blur-md rounded-lg shadow-large mt-2;
    /* Preserve backdrop blur and visual effects on outer container */
  }
  
  .mobile-menu-scrollable {
    /* Inner container - show all items without scrolling */
    @apply relative;
    
    /* Auto height to fit all content */
    height: auto;
    max-height: none;
    overflow: visible;
    
    /* Hardware acceleration for smooth animations */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    will-change: transform;
    
    /* Touch optimizations */
    -webkit-tap-highlight-color: transparent;
  }
  
  /* No scrollbar needed since all items are visible */
  
  .mobile-menu-content {
    /* Content wrapper - maintains padding and spacing */
    @apply py-4 space-y-2;
    padding: var(--menu-padding) 0;
    position: relative;
    z-index: 0;
  }
  
  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .mobile-menu-container {
      transition: none;
    }
  }
  
  /* Animation Classes */
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  .animate-fade-in-down {
    animation: fadeInDown 0.6s ease-out forwards;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
  }

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Layout utilities */
  .min-h-screen-nav {
    min-height: calc(100vh - 4rem);
  }
  
  @media (min-width: 1024px) {
    .min-h-screen-nav {
      min-height: calc(100vh - 5rem);
    }
  }
  
  /* Focus utilities */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }
  
  /* Smooth transitions */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Blog Layout Spacing Utilities - Consistent Vertical Rhythm */
  /* Based on 8px base unit: 8px, 16px, 24px, 32px, 48px, 64px */
  
  /* Blog section spacing */
  .blog-section-xs { @apply mb-2; }      /* 8px */
  .blog-section-sm { @apply mb-4; }      /* 16px */
  .blog-section-md { @apply mb-6; }      /* 24px */
  .blog-section-lg { @apply mb-8; }      /* 32px */
  .blog-section-xl { @apply mb-12; }     /* 48px */
  .blog-section-2xl { @apply mb-16; }    /* 64px */
  
  /* Responsive blog spacing */
  @media (max-width: 640px) {
    .blog-section-responsive-sm { @apply mb-4; }   /* 16px on mobile */
    .blog-section-responsive-md { @apply mb-6; }   /* 24px on mobile */
    .blog-section-responsive-lg { @apply mb-6; }   /* 24px on mobile */
  }
  
  @media (min-width: 641px) and (max-width: 1024px) {
    .blog-section-responsive-sm { @apply mb-6; }   /* 24px on tablet */
    .blog-section-responsive-md { @apply mb-8; }   /* 32px on tablet */
    .blog-section-responsive-lg { @apply mb-8; }   /* 32px on tablet */
  }
  
  @media (min-width: 1025px) {
    .blog-section-responsive-sm { @apply mb-6; }   /* 24px on desktop */
    .blog-section-responsive-md { @apply mb-8; }   /* 32px on desktop */
    .blog-section-responsive-lg { @apply mb-8; }   /* 32px on desktop */
  }
  
  /* Blog content spacing */
  .blog-content-gap { @apply space-y-6; }         /* 24px between content elements */
  .blog-meta-gap { @apply gap-4 md:gap-6; }       /* 16px mobile, 24px desktop */
  .blog-card-gap { @apply gap-6 md:gap-8; }       /* 24px mobile, 32px desktop */
  
  /* Enhanced Blog Layout Utilities for Visual Hierarchy */
  
  /* Blog header hierarchy */
  .blog-header-container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .blog-title-section {
    @apply text-center blog-section-responsive-md;
  }
  
  .blog-image-section {
    @apply blog-section-responsive-md;
  }
  
  .blog-meta-section {
    @apply text-center blog-section-responsive-md;
  }
  
  .blog-content-section {
    @apply pb-6 md:pb-8 lg:pb-12;
  }
  
  /* Typography hierarchy for blog posts */
  .blog-title {
    @apply text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-gray-900;
    @apply mb-4 md:mb-6;
    font-family: var(--font-urbanist);
    line-height: 1.1;
  }
  
  .blog-excerpt {
    @apply text-lg sm:text-xl text-gray-600 leading-relaxed;
    @apply mb-0;
    line-height: 1.6;
  }
  
  .blog-category-badge {
    @apply inline-block bg-primary text-white px-3 py-2 md:px-4 md:py-2;
    @apply rounded-full text-sm font-medium mb-4 md:mb-6;
    @apply hover:bg-red-700 transition-colors duration-200;
    @apply focus:ring-2 focus:ring-primary focus:ring-offset-2;
    @apply touch-manipulation active:scale-95;
  }
  
  .blog-meta-info {
    @apply flex flex-col sm:flex-row flex-wrap justify-center items-center;
    @apply gap-3 sm:gap-4 md:gap-6 text-gray-600 mb-4 md:mb-6;
  }
  
  .blog-author-info {
    @apply flex items-center gap-3;
  }
  
  .blog-author-name {
    @apply font-medium text-gray-900;
  }
  
  .blog-author-role {
    @apply text-sm text-gray-600;
  }
  
  .blog-publish-info {
    @apply flex items-center gap-2 sm:gap-4 text-sm;
  }
  
  /* Blog content typography */
  .blog-content-container {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .blog-content-prose {
    @apply prose prose-lg max-w-none;
    @apply prose-headings:font-bold prose-headings:text-gray-900;
    @apply prose-h1:text-4xl prose-h1:mb-6 prose-h1:mt-8;
    @apply prose-h2:text-3xl prose-h2:mb-4 prose-h2:mt-8;
    @apply prose-h3:text-2xl prose-h3:mb-3 prose-h3:mt-6;
    @apply prose-h4:text-xl prose-h4:mb-2 prose-h4:mt-4;
    @apply prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-6;
    @apply prose-a:text-primary prose-a:no-underline hover:prose-a:underline;
    @apply prose-strong:text-gray-900 prose-strong:font-semibold;
    @apply prose-em:italic;
    @apply prose-ul:my-6 prose-ol:my-6;
    @apply prose-li:text-gray-700 prose-li:mb-2;
    @apply prose-blockquote:border-l-4 prose-blockquote:border-primary;
    @apply prose-blockquote:pl-6 prose-blockquote:my-8 prose-blockquote:italic;
    @apply prose-blockquote:text-gray-600;
    line-height: 1.8;
  }
  
  /* Blog section dividers */
  .blog-section-divider {
    @apply border-t border-gray-200 py-4 md:py-6 lg:py-8;
  }
  
  /* Blog tags styling */
  .blog-tags-container {
    @apply flex flex-wrap gap-2 sm:gap-3;
  }
  
  .blog-tag-label {
    @apply text-gray-600 font-medium text-sm sm:text-base mb-1 sm:mb-0;
  }
  
  .blog-tag-item {
    @apply bg-gray-100 hover:bg-primary hover:text-white;
    @apply px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm;
    @apply transition-colors duration-200 touch-manipulation active:scale-95;
    @apply focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }
  
  /* Blog author bio styling */
  .blog-author-bio-container {
    @apply bg-gray-50 rounded-lg p-4 sm:p-6 md:p-8;
  }
  
  .blog-author-bio-content {
    @apply flex flex-col sm:flex-row gap-4 sm:gap-6;
  }
  
  .blog-author-avatar {
    @apply rounded-full mx-auto sm:mx-0 flex-shrink-0;
  }
  
  .blog-author-details {
    @apply flex-1 text-center sm:text-left;
  }
  
  .blog-author-bio-name {
    @apply text-lg sm:text-xl font-bold mb-1 sm:mb-2 text-gray-900;
  }
  
  .blog-author-bio-role {
    @apply text-primary font-medium mb-2 sm:mb-3 text-sm sm:text-base;
  }
  
  .blog-author-bio-text {
    @apply text-gray-600 mb-3 sm:mb-4 text-sm sm:text-base leading-relaxed;
  }
  
  .blog-author-social-links {
    @apply flex justify-center sm:justify-start gap-3 sm:gap-4;
  }
  
  .blog-author-social-link {
    @apply text-gray-600 hover:text-primary transition-colors duration-200;
    @apply text-sm sm:text-base touch-manipulation active:scale-95;
    @apply focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded;
  }
  
  /* Blog related posts styling */
  .blog-related-posts-container {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .blog-related-posts-title {
    @apply text-2xl sm:text-3xl font-bold text-center mb-6 md:mb-8 text-gray-900;
  }
  
  .blog-related-posts-grid {
    @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
  }
  
  .blog-related-post-card {
    @apply touch-manipulation active:scale-95 transition-transform duration-200;
  }
  
  .blog-related-post-image {
    @apply relative aspect-video mb-3 sm:mb-4 overflow-hidden rounded-lg;
  }
  
  .blog-related-post-content {
    @apply space-y-2 sm:space-y-3;
  }
  
  .blog-related-post-meta {
    @apply flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600;
  }
  
  .blog-related-post-title {
    @apply text-lg sm:text-xl font-bold group-hover:text-primary;
    @apply transition-colors duration-200 leading-tight text-gray-900;
  }
  
  .blog-related-post-excerpt {
    @apply text-gray-600 line-clamp-3 text-sm sm:text-base leading-relaxed;
  }
  
  /* Blog CTA section styling */
  .blog-cta-section {
    @apply bg-primary text-white py-6 md:py-8 lg:py-12;
  }
  
  .blog-cta-container {
    @apply text-center px-4 sm:px-6 lg:px-8;
  }
  
  .blog-cta-title {
    @apply text-2xl sm:text-3xl font-bold mb-3 sm:mb-4 text-white;
  }
  
  .blog-cta-description {
    @apply text-lg sm:text-xl mb-4 sm:mb-6 opacity-90 leading-relaxed;
  }
  
  .blog-cta-button {
    @apply inline-block bg-white text-primary px-6 py-3 sm:px-8 sm:py-4;
    @apply rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200;
    @apply touch-manipulation active:scale-95;
    @apply focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary;
  }
  
  /* Image loading transitions */
  .blog-image-loading {
    @apply transition-opacity duration-300 ease-in-out;
  }
  
  .blog-image-loaded {
    @apply opacity-100;
  }
  
  .blog-image-loading-state {
    @apply opacity-0;
  }
  
  /* Skeleton loading states */
  .blog-skeleton {
    @apply animate-pulse bg-gray-200;
  }
  
  .blog-skeleton-image {
    @apply blog-skeleton rounded-lg;
  }
  
  .blog-skeleton-text {
    @apply blog-skeleton h-4 rounded;
  }
  
  .blog-skeleton-title {
    @apply blog-skeleton h-8 rounded;
  }
  
  /* Mobile-specific touch and accessibility utilities */
  .touch-target-mobile {
    @apply min-w-[44px] min-h-[44px]; /* WCAG AA minimum touch target size */
  }
  
  .mobile-padding {
    @apply px-4 sm:px-6 lg:px-8; /* Responsive horizontal padding */
  }
  
  .mobile-text-responsive {
    @apply text-sm sm:text-base; /* Responsive text sizing */
  }
  
  .mobile-heading-responsive {
    @apply text-lg sm:text-xl md:text-2xl; /* Responsive heading sizing */
  }
  
  /* Enhanced mobile interactions */
  .mobile-touch-feedback {
    @apply touch-manipulation active:scale-95 transition-transform duration-150;
  }
  
  /* Mobile-first spacing adjustments */
  .mobile-section-spacing {
    @apply py-4 md:py-6 lg:py-8; /* Progressive section padding */
  }
  
  .mobile-content-spacing {
    @apply mb-3 sm:mb-4 md:mb-6; /* Progressive content spacing */
  }
  
  /* Performance optimization utilities for layout shift prevention */
  .prevent-layout-shift {
    contain: layout style paint;
  }
  
  .image-container-stable {
    @apply prevent-layout-shift;
    /* Reserve space to prevent CLS during image loading */
    min-height: var(--image-min-height, 200px);
  }
  
  .image-loading-smooth {
    @apply transition-all duration-500 ease-out;
    transform: translateZ(0); /* Force hardware acceleration */
    will-change: opacity, transform;
  }
  
  .image-loaded-smooth {
    @apply opacity-100 scale-100;
    will-change: auto; /* Remove will-change after loading */
  }
  
  .image-loading-state {
    @apply opacity-0 scale-105;
  }
  
  /* Enhanced skeleton loading with better performance */
  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  
  .skeleton-pulse-optimized {
    animation: pulse-optimized 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  /* Optimized error boundary styling */
  .error-boundary-container {
    @apply bg-gradient-to-br from-gray-50 to-gray-100;
    @apply border-2 border-dashed border-gray-200;
    @apply flex flex-col items-center justify-center;
    @apply text-gray-500 p-6 rounded-lg;
    min-height: inherit;
  }
  
  /* Performance monitoring utilities */
  .performance-critical {
    /* Mark critical rendering path elements */
    contain: layout style;
  }
  
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  /* Typing Animation Utilities */
  .typing-animation-container {
    @apply gpu-accelerated prevent-layout-shift;
    /* Prevent layout shift during typing animation */
    min-height: 1.2em;
    display: inline-block;
  }
  
  .typing-cursor {
    animation: typing-cursor 1s infinite;
    @apply gpu-accelerated;
  }
  
  .typing-text {
    @apply gpu-accelerated;
    animation: typing-fade-in 0.1s ease-in;
  }
  
  /* Reduced motion support for typing animation */
  @media (prefers-reduced-motion: reduce) {
    .typing-animation-container {
      animation: none;
    }
    
    .typing-cursor {
      animation: none;
      opacity: 0;
    }
    
    .typing-text {
      animation: none;
    }
  }
}

/* Custom Keyframes */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Technology Page Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spinSlow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }
  50% {
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes pulse-optimized {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Typing Animation Keyframes */
@keyframes typing-cursor {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

@keyframes typing-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Technology Page Utility Classes */
.animate-fade-in {
  animation: fadeIn 1s ease-out forwards;
}

.animate-spin-slow {
  animation: spinSlow 20s linear infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}
}